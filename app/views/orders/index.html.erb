
<h1>Orders</h1>

<div class="container-fluid row" id="orders">
  <% @orders.each do |order| %>
  <div class="col-sm">
    <div
      class="card border border-2 border-success p-1 mt-3"
      style="width: 18rem"
    >
      <div class="card-header"><%= order.product_name %></div>
      <div class="card-body">
        <%= order.customer.full_name %> ordered <%= order.product_count %> items
      </div>
      <div class="card-footer">
        <div class="container text-center">
          <div class="row">
            <div class="col">
              <%= link_to "Show", order, class: "btn btn-primary btn-sm w-33" %>
            </div>
            <div class="col">
              <%= button_to "Edit", edit_order_path(order), method: :get, class: "btn btn-primary btn-sm w-33" %>
            </div>
            <div class="col">
              <button type="button" class="btn btn-primary btn-sm w-33" data-bs-toggle="modal" data-bs-target="#myModal" data-id=<%= order.id.to_s %> data-customer="<%= order.customer.full_name %>" data-productname="<%= order.product_name %>" data-productcount="<%= order.product_count %>">Delete</button>
              <!-- <%= button_to "Delete", order, method: :delete, data: {turbo_confirm: "Are you sure?"}, class: "btn btn-primary btn-sm w-33" %> -->
              <%= render partial: "orders/deleteModal", locals: { order: order } %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <% end %>
</div>
<p class="mt-3">
  <%= link_to "New order", new_order_path, class: "btn btn-primary btn-sm" %>
</p>
<p>
  <%= link_to "To customers", customers_path, class: "btn btn-primary btn-sm" %>
</p>
